import{createRequire as e}from"node:module";var t,n,r={156:e=>{var t="undefined"!=typeof ArrayBuffer,n="undefined"!=typeof Symbol;function r(e,r){var o,s,i,a,c;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof r)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(i=0,a=e.length;i<a;i++)r(e[i],i);else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(s in e)e.hasOwnProperty(s)&&r(e[s],s);else for(o=e,i=0;!0!==(c=o.next()).done;)r(c.value,i),i++;else e.forEach(r)}r.forEachWithNullKeys=function(e,r){var o,s,i,a,c;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if("function"!=typeof r)throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||t&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(i=0,a=e.length;i<a;i++)r(e[i],null);else if(e instanceof Set)e.forEach((function(e){r(e,null)}));else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(s in e)e.hasOwnProperty(s)&&r(e[s],s);else for(o=e,i=0;!0!==(c=o.next()).done;)r(c.value,null),i++;else e.forEach(r)},e.exports=r},181:t=>{t.exports=e(import.meta.url)("buffer")},211:(e,t,n)=>{n.d(t,{h:()=>F});var r=n(244),o=n(6864),s=n(8004),i=n(3197);const a="X-Amz-Date",c="X-Amz-Signature",d="X-Amz-Security-Token",u="authorization",l=a.toLowerCase(),p=[u,l,"date"],f=c.toLowerCase(),h="x-amz-content-sha256",m=d.toLowerCase(),g={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},y=/^proxy-/,w=/^sec-/,b="AWS4-HMAC-SHA256",v="AWS4-HMAC-SHA256-PAYLOAD",E="aws4_request",S={},x=[],A=(e,t,n)=>`${e}/${t}/${n}/${E}`,I=(e,t,n)=>{const r=new e(t);return r.update((0,i.Fo)(n)),r.digest()},C=({headers:e},t,n)=>{const r={};for(const o of Object.keys(e).sort()){if(null==e[o])continue;const s=o.toLowerCase();(s in g||t?.has(s)||y.test(s)||w.test(s))&&(!n||n&&!n.has(s))||(r[s]=e[o].trim().replace(/\s+/g," "))}return r};var R=n(3695);const T=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===h)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,R.m)(t)){const e=new n;return e.update((0,i.Fo)(t)),(0,s.n)(await e.digest())}return"UNSIGNED-PAYLOAD"};class ${format(e){const t=[];for(const n of Object.keys(e)){const r=(0,i.ar)(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(o.buffer);return a.set(e.value,3),a;case"string":const c=(0,i.ar)(e.value),d=new DataView(new ArrayBuffer(3+c.byteLength));d.setUint8(0,7),d.setUint16(1,c.byteLength,!1);const u=new Uint8Array(d.buffer);return u.set(c,3),u;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(k.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!P.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const p=new Uint8Array(17);return p[0]=9,p.set((0,s.a)(e.value.replace(/\-/g,"")),1),p}}}var O;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(O||(O={}));const P=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class k{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&N(t),new k(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&N(e),parseInt((0,s.n)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function N(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}var _=n(5479);const D=e=>{e=_.Kd.clone(e);for(const t of Object.keys(e.headers))p.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var M=n(7135),L=n(2531);class j{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:s=!0}){this.service=r,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,M.t)(n),this.credentialProvider=(0,M.t)(t)}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e)){if(r.toLowerCase()===f)continue;const o=(0,L.o)(r);t.push(o);const s=e[r];"string"==typeof s?n[o]=`${o}=${(0,L.o)(s)}`:Array.isArray(s)&&(n[o]=s.slice(0).reduce(((e,t)=>e.concat([`${o}=${(0,L.o)(t)}`])),[]).sort().join("&"))}return t.sort().map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n,r){const o=new this.sha256;o.update((0,i.Fo)(n));const a=await o.digest();return`${r}\n${e}\n${t}\n${(0,s.n)(a)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,L.o)(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}formatDate(e){const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class U extends j{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:s}),this.headerFormatter=new $}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:u,signingRegion:l,signingService:p}=t,f=await this.credentialProvider();this.validateResolvedCredentials(f);const h=l??await this.regionProvider(),{longDate:m,shortDate:g}=this.formatDate(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=A(g,h,p??this.service),w=((e,t={})=>{const{headers:n,query:r={}}=_.Kd.clone(e);for(const e of Object.keys(n)){const o=e.toLowerCase();("x-amz-"===o.slice(0,6)&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(D(e),{unhoistableHeaders:s,hoistableHeaders:u});f.sessionToken&&(w.query[d]=f.sessionToken),w.query["X-Amz-Algorithm"]=b,w.query["X-Amz-Credential"]=`${f.accessKeyId}/${y}`,w.query[a]=m,w.query["X-Amz-Expires"]=r.toString(10);const v=C(w,o,i);return w.query["X-Amz-SignedHeaders"]=this.getCanonicalHeaderList(v),w.query[c]=await this.getSignature(m,y,this.getSigningKey(f,h,g,p),this.createCanonicalRequest(w,v,await T(e,this.sha256))),w}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:o,signingService:i}){const a=o??await this.regionProvider(),{shortDate:c,longDate:d}=this.formatDate(n),u=A(c,a,i??this.service),l=await T({headers:{},body:t},this.sha256),p=new this.sha256;p.update(e);const f=(0,s.n)(await p.digest()),h=[v,d,u,r,f,l].join("\n");return this.signString(h,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:r,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const a=n??await this.regionProvider(),{shortDate:c}=this.formatDate(t),d=new this.sha256(await this.getSigningKey(o,a,c,r));return d.update((0,i.Fo)(e)),(0,s.n)(await d.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:o,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=o??await this.regionProvider(),c=D(e),{longDate:d,shortDate:p}=this.formatDate(t),f=A(p,a,s??this.service);c.headers[l]=d,i.sessionToken&&(c.headers[m]=i.sessionToken);const g=await T(c,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(h,c.headers)&&this.applyChecksum&&(c.headers[h]=g);const y=C(c,r,n),w=await this.getSignature(d,f,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(c,y,g));return c.headers[u]=`${b} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${w}`,c}async getSignature(e,t,n,r){const o=await this.createStringToSign(e,t,r,b),a=new this.sha256(await n);return a.update((0,i.Fo)(o)),(0,s.n)(await a.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,o)=>{const i=await I(e,t.secretAccessKey,t.accessKeyId),a=`${n}:${r}:${o}:${(0,s.n)(i)}:${t.sessionToken}`;if(a in S)return S[a];for(x.push(a);x.length>50;)delete S[x.shift()];let c=`AWS4${t.secretAccessKey}`;for(const t of[n,r,o,E])c=await I(e,c,t);return S[a]=c})(this.sha256,e,n,t,r||this.service)}}const F=e=>{let t,n=e.credentials,s=!!e.credentials;Object.defineProperty(e,"credentials",{set(i){i&&i!==n&&i!==t&&(s=!0),n=i;const a=function(e,{credentials:t,credentialDefaultProvider:n}){let r;return r=t?t?.memoized?t:(0,o.K4)(t,o.OC,o.e):n?(0,o.te)(n(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),c=function(e,t){if(t.configBound)return t;const n=async n=>t({...n,callerClientConfig:e});return n.memoized=t.memoized,n.configBound=!0,n}(e,a);s&&!c.attributed?(t=async e=>c(e).then((e=>(0,r.g)(e,"CREDENTIALS_CODE","e"))),t.memoized=c.memoized,t.configBound=c.configBound,t.attributed=!0):t=c},get:()=>t,enumerable:!0,configurable:!0}),e.credentials=n;const{signingEscapePath:i=!0,systemClockOffset:a=e.systemClockOffset||0,sha256:c}=e;let d;return d=e.signer?(0,o.te)(e.signer):e.regionInfoProvider?()=>(0,o.te)(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([t,n])=>{const{signingRegion:r,signingService:o}=t;e.signingRegion=e.signingRegion||r||n,e.signingName=e.signingName||o||e.serviceId;const s={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:i};return new(e.signerConstructor||U)(s)})):async t=>{const n=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,o.te)(e.region)(),properties:{}},t)).signingRegion,r=t.signingName;e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||r||e.serviceId;const s={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:i};return new(e.signerConstructor||U)(s)},Object.assign(e,{systemClockOffset:a,signingEscapePath:i,signer:d})}},244:(e,t,n)=>{function r(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}n.d(t,{g:()=>r})},649:(e,t,n)=>{n.d(t,{vK:()=>i});var r=n(5479);const o="content-length",s={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},i=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const s=t.request;if(r.Kd.isInstance(s)){const{body:e,headers:t}=s;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(o))try{const t=n(e);s.headers={...s.headers,[o]:String(t)}}catch(e){}}return e({...t,request:s})}),s)}})},857:t=>{t.exports=e(import.meta.url)("os")},904:(e,t,n)=>{n.d(t,{yG:()=>s,pi:()=>i,fromEnv:()=>a});var r=n(244),o=n(8112);const s="AWS_ACCESS_KEY_ID",i="AWS_SECRET_ACCESS_KEY",a=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");const t=process.env[s],n=process.env[i],a=process.env.AWS_SESSION_TOKEN,c=process.env.AWS_CREDENTIAL_EXPIRATION,d=process.env.AWS_CREDENTIAL_SCOPE,u=process.env.AWS_ACCOUNT_ID;if(t&&n){const e={accessKeyId:t,secretAccessKey:n,...a&&{sessionToken:a},...c&&{expiration:new Date(c)},...d&&{credentialScope:d},...u&&{accountId:u}};return(0,r.g)(e,"CREDENTIALS_ENV_VARS","g"),e}throw new o.C1("Unable to find environment variable credentials.",{logger:e?.logger})}},1095:(e,t,n)=>{n.d(t,{OV:()=>o,TC:()=>i});var r=n(5479);function o(e){return e}const s={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},i=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!r.Kd.isInstance(n.request))return t(n);const{request:o}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let e=o.hostname;null!=o.port&&(e+=`:${o.port}`),o.headers.host=e}return t(n)})(e),s)}})},1208:(e,t,n)=>{n.d(t,{TM:()=>a,Ou:()=>i});const r=(e,t)=>(n,r)=>async o=>{const{response:s}=await n(o);try{return{response:s,output:await t(s,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:s}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+t}catch(e){r.logger&&"NoOpLogger"!==r.logger?.constructor?.name?r.logger?.warn?.(t):console.warn(t)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText)}throw e}},o=(e,t)=>(n,r)=>async o=>{const s=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const i=await t(o.input,{...e,endpoint:s});return n({...o,request:i})},s={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},i={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function a(e,t,n){return{applyToStack:a=>{a.add(r(e,n),s),a.add(o(e,t),i)}}}},1429:(e,t,n)=>{var r=n(2766),o=n(156),s=n(5384),i=n(9938);function a(e,t,n){if(arguments.length<2&&(n=e,e=null,t=null),this.capacity=n,"number"!=typeof this.capacity||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var r=s.getPointerArray(n);this.forward=new r(n),this.backward=new r(n),this.K="function"==typeof e?new e(n):new Array(n),this.V="function"==typeof t?new t(n):new Array(n),this.size=0,this.head=0,this.tail=0,this.items={}}a.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},a.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var n=this.backward[e],r=this.forward[e];return this.tail===e?this.tail=n:this.backward[r]=n,this.forward[n]=r,this.backward[t]=e,this.head=e,this.forward[e]=t,this},a.prototype.set=function(e,t){var n=this.items[e];if(void 0!==n)return this.splayOnTop(n),void(this.V[n]=t);this.size<this.capacity?n=this.size++:(n=this.tail,this.tail=this.backward[n],delete this.items[this.K[n]]),this.items[e]=n,this.K[n]=e,this.V[n]=t,this.forward[n]=this.head,this.backward[this.head]=n,this.head=n},a.prototype.setpop=function(e,t){var n=null,r=null,o=this.items[e];return void 0!==o?(this.splayOnTop(o),n=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:n}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],n=this.V[o],r=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,r?{evicted:!0,key:r,value:n}:null)},a.prototype.has=function(e){return e in this.items},a.prototype.get=function(e){var t=this.items[e];if(void 0!==t)return this.splayOnTop(t),this.V[t]},a.prototype.peek=function(e){var t=this.items[e];if(void 0!==t)return this.V[t]},a.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=0,r=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;n<r;)e.call(t,i[o],s[o],this),o=a[o],n++},a.prototype.keys=function(){var e=0,t=this.size,n=this.head,o=this.K,s=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=o[n];return++e<t&&(n=s[n]),{done:!1,value:r}}))},a.prototype.values=function(){var e=0,t=this.size,n=this.head,o=this.V,s=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=o[n];return++e<t&&(n=s[n]),{done:!1,value:r}}))},a.prototype.entries=function(){var e=0,t=this.size,n=this.head,o=this.K,s=this.V,i=this.forward;return new r((function(){if(e>=t)return{done:!0};var r=o[n],a=s[n];return++e<t&&(n=i[n]),{done:!1,value:[r,a]}}))},"undefined"!=typeof Symbol&&(a.prototype[Symbol.iterator]=a.prototype.entries),a.prototype.inspect=function(){for(var e,t=new Map,n=this.entries();!(e=n.next()).done;)t.set(e.value[0],e.value[1]);return Object.defineProperty(t,"constructor",{value:a,enumerable:!1}),t},"undefined"!=typeof Symbol&&(a.prototype[Symbol.for("nodejs.util.inspect.custom")]=a.prototype.inspect),a.from=function(e,t,n,r){if(arguments.length<2){if("number"!=typeof(r=i.guessLength(e)))throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else 2===arguments.length&&(r=t,t=null,n=null);var s=new a(t,n,r);return o(e,(function(e,t){s.set(t,e)})),s},e.exports=a},1487:(e,t,n)=>{n.d(t,{zH:()=>c,GG:()=>a,e$:()=>s,Ko:()=>i,TD:()=>l});const r=(e,t,n)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${n} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var o;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(o||(o={}));const s={environmentVariableSelector:e=>r(e,"AWS_USE_DUALSTACK_ENDPOINT",o.ENV),configFileSelector:e=>r(e,"use_dualstack_endpoint",o.CONFIG),default:!1},i={environmentVariableSelector:e=>r(e,"AWS_USE_FIPS_ENDPOINT",o.ENV),configFileSelector:e=>r(e,"use_fips_endpoint",o.CONFIG),default:!1};n(7135);const a={environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw new Error("Region is missing")}},c={preferredFile:"credentials"},d=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),u=e=>d(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,l=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if("string"==typeof t)return u(t);const e=await t();return u(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!d(e)||("function"!=typeof n?Promise.resolve(!!n):n())}})}},1540:(e,t,n)=>{n.d(t,{Kj:()=>c,uB:()=>l,N4:()=>oe,$H:()=>f,TJ:()=>V,Ss:()=>le,Px:()=>d.Px,J1:()=>h,Mw:()=>K,I9:()=>X,ak:()=>m,ET:()=>w,Y0:()=>E,Xk:()=>S,lK:()=>x,tN:()=>A,$6:()=>d.$6,xA:()=>Q,rm:()=>te,eU:()=>ne,JW:()=>R,lT:()=>Y,Tj:()=>se,EI:()=>D,t_:()=>L,uv:()=>ee,xW:()=>$,s:()=>ie,jr:()=>G});const r=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const e of t)n.push(e);return n},o=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,s=()=>{let e=[],t=[],n=!1;const c=new Set,d=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n.identifyOnResolve?.(p.identifyOnResolve()),n),u=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...u(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...u(e))})),t},l=(n=!1)=>{const s=[],c=[],d={};e.forEach((e=>{const t={...e,before:[],after:[]};for(const e of r(t.name,t.aliases))d[e]=t;s.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};for(const e of r(t.name,t.aliases))d[e]=t;c.push(t)})),c.forEach((e=>{if(e.toMiddleware){const t=d[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${o(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const l=(p=s,p.sort(((e,t)=>i[t.step]-i[e.step]||a[t.priority||"normal"]-a[e.priority||"normal"]))).map(u).reduce(((e,t)=>(e.push(...t),e)),[]);var p;return l},p={add:(t,n={})=>{const{name:s,override:i,aliases:a}=n,d={step:"initialize",priority:"normal",middleware:t,...n},u=r(s,a);if(u.length>0){if(u.some((e=>c.has(e)))){if(!i)throw new Error(`Duplicate middleware name '${o(s,a)}'`);for(const t of u){const n=e.findIndex((e=>e.name===t||e.aliases?.some((e=>e===t))));if(-1===n)continue;const r=e[n];if(r.step!==d.step||d.priority!==r.priority)throw new Error(`"${o(r.name,r.aliases)}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by "${o(s,a)}" middleware with ${d.priority} priority in ${d.step} step.`);e.splice(n,1)}}for(const e of u)c.add(e)}e.push(d)},addRelativeTo:(e,n)=>{const{name:s,override:i,aliases:a}=n,d={middleware:e,...n},u=r(s,a);if(u.length>0){if(u.some((e=>c.has(e)))){if(!i)throw new Error(`Duplicate middleware name '${o(s,a)}'`);for(const e of u){const n=t.findIndex((t=>t.name===e||t.aliases?.some((t=>t===e))));if(-1===n)continue;const r=t[n];if(r.toMiddleware!==d.toMiddleware||r.relation!==d.relation)throw new Error(`"${o(r.name,r.aliases)}" middleware ${r.relation} "${r.toMiddleware}" middleware cannot be overridden by "${o(s,a)}" middleware ${d.relation} "${d.toMiddleware}" middleware.`);t.splice(n,1)}}for(const e of u)c.add(e)}t.push(d)},clone:()=>d(s()),use:e=>{e.applyToStack(p)},remove:n=>"string"==typeof n?(n=>{let o=!1;const s=e=>{const t=r(e.name,e.aliases);if(t.includes(n)){o=!0;for(const e of t)c.delete(e);return!1}return!0};return e=e.filter(s),t=t.filter(s),o})(n):(n=>{let o=!1;const s=e=>{if(e.middleware===n){o=!0;for(const t of r(e.name,e.aliases))c.delete(t);return!1}return!0};return e=e.filter(s),t=t.filter(s),o})(n),removeByTag:n=>{let o=!1;const s=e=>{const{tags:t,name:s,aliases:i}=e;if(t&&t.includes(n)){const e=r(s,i);for(const t of e)c.delete(t);return o=!0,!1}return!0};return e=e.filter(s),t=t.filter(s),o},concat:e=>{const t=d(s());return t.use(e),t.identifyOnResolve(n||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:d,identify:()=>l(!0).map((e=>{const t=e.step??e.relation+" "+e.toMiddleware;return o(e.name,e.aliases)+" - "+t})),identifyOnResolve:e=>("boolean"==typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of l().map((e=>e.middleware)).reverse())e=n(e,t);return n&&console.log(p.identify()),e}};return p},i={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},a={high:3,normal:2,low:1};class c{constructor(e){this.config=e,this.middlewareStack=s()}send(e,t,n){const r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n;let s;if(void 0===r&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);const t=this.handlers;t.has(e.constructor)?s=t.get(e.constructor):(s=e.resolveMiddleware(this.middlewareStack,this.config,r),t.set(e.constructor,s))}else delete this.handlers,s=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return s(e).then((e=>e.output));s(e).then((e=>o(null,e.output)),(e=>o(e))).catch((()=>{}))}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var d=n(7115),u=n(7523);class l{constructor(){this.middlewareStack=s()}static classBuilder(){return new p}resolveMiddlewareWithContext(e,t,n,{middlewareFn:r,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:d,CommandCtor:l}){for(const o of r.bind(this)(l,e,t,n))this.middlewareStack.use(o);const p=e.concat(this.middlewareStack),{logger:f}=t,h={logger:f,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[u.Vf]:{commandInstance:this,...c},...d},{requestHandler:m}=t;return p.resolve((e=>m.handle(e.request,n||{})),h)}}class p{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,n={}){return this._smithyContext={service:e,operation:t,...n},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let t;return t=class extends l{static getEndpointParameterInstructions(){return e._ep}constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this)}resolveMiddleware(n,r,o){return this.resolveMiddlewareWithContext(n,r,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const f="***SensitiveInformation***",h=(e,t)=>{for(const n of Object.keys(e)){const r=e[n],o=async function(e,t,n){const o=new r(e);if("function"==typeof t)this.send(o,t);else{if("function"!=typeof n)return this.send(o,t);if("object"!=typeof t)throw new Error("Expected http options but got "+typeof t);this.send(o,t||{},n)}},s=(n[0].toLowerCase()+n.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},m=e=>{if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||k.warn(P(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){const t=e.toLowerCase();if("false"!==t&&"true"!==t||k.warn(P(`Expected boolean, got ${typeof e}: ${e}`)),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},g=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&k.warn(P(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},y=Math.ceil(2**127*(2-2**-23)),w=e=>b(e,32),b=(e,t)=>{const n=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==n&&v(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},v=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},E=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},S=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},x=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return k.warn(P(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},A=e=>{if(null==e)return;const t=S(e),n=Object.entries(t).filter((([,e])=>null!=e)).map((([e])=>e));if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},I=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,C=e=>{const t=e.match(I);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},R=e=>"string"==typeof e?T(e):g(e),T=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},$=e=>w("string"==typeof e?C(e):e),O=e=>(e=>b(e,16))("string"==typeof e?C(e):e),P=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),k={warn:console.warn},N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),D=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=_.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,o,s,i,a,c,d]=t,u=O(H(r)),l=z(o,"month",1,12),p=z(s,"day",1,31);return j(u,l,p,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},M=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),L=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=M.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,o,s,i,a,c,d,u]=t,l=O(H(r)),p=z(o,"month",1,12),f=z(s,"day",1,31),h=j(l,p,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return"Z"!=u.toUpperCase()&&h.setTime(h.getTime()-W(u)),h},j=(e,t,n,r)=>{const o=t-1;return F(e,o,n),new Date(Date.UTC(e,o,n,z(r.hours,"hour",0,23),z(r.minutes,"minute",0,59),z(r.seconds,"seconds",0,60),q(r.fractionalMilliseconds)))},U=[31,28,31,30,31,30,31,31,30,31,30,31],F=(e,t,n)=>{let r=U[t];if(1===t&&B(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${N[t]} in ${e}: ${n}`)},B=e=>e%4==0&&(e%100!=0||e%400==0),z=(e,t,n,r)=>{const o=(e=>(e=>b(e,8))("string"==typeof e?C(e):e))(H(e));if(o<n||o>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return o},q=e=>null==e?0:1e3*(e=>(e=>{const t=g(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>y)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?C(e):e))("0."+e),W=e=>{const t=e[0];let n=1;if("+"==t)n=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);n=-1}return n*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},H=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class V extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const t=e;return V.prototype.isPrototypeOf(t)||Boolean(t.$fault)&&Boolean(t.$metadata)&&("client"===t.$fault||"server"===t.$fault)}static[Symbol.hasInstance](e){if(!e)return!1;const t=e;return this===V?V.isInstance(e):!!V.isInstance(e)&&(t.name&&this.name?this.prototype.isPrototypeOf(e)||t.name===this.name:this.prototype.isPrototypeOf(e))}}const K=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},G=e=>({output:t,parsedBody:n,errorCode:r})=>{(({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const o=J(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||r||s||"UnknownError",$fault:"client",$metadata:o});throw K(i,t)})({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},J=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Y=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let Z=!1;const X=e=>{e&&!Z&&parseInt(e.substring(1,e.indexOf(".")))<16&&(Z=!0)},Q=e=>Object.assign((e=>{const t=[];for(const n in u.dB){const r=u.dB[n];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}})(e),(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}))(e)),ee=e=>Object.assign((e=>{const t={};return e.checksumAlgorithms().forEach((e=>{t[e.algorithmId()]=e.checksumConstructor()})),t})(e),(e=>{const t={};return t.retryStrategy=e.retryStrategy(),t})(e)),te=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=te(e[n]));return e},ne=e=>null!=e,re=function(e){return Object.assign(new String(e),{deserializeJSON:()=>JSON.parse(String(e)),toString:()=>String(e),toJSON:()=>String(e)})};re.from=e=>e&&"object"==typeof e&&(e instanceof re||"deserializeJSON"in e)?e:"string"==typeof e||Object.getPrototypeOf(e)===String.prototype?re(String(e)):re(JSON.stringify(e)),re.fromObject=re.from;class oe{trace(){}debug(){}info(){}warn(){}error(){}}function se(e,t,n){let r,o,s;if(void 0===t&&void 0===n)r={},s=e;else{if(r=e,"function"==typeof t)return o=t,s=n,ae(r,o,s);s=t}for(const e of Object.keys(s))Array.isArray(s[e])?ce(r,null,s,e):r[e]=s[e];return r}const ie=(e,t)=>{const n={};for(const r in t)ce(n,e,t,r);return n},ae=(e,t,n)=>se(e,Object.entries(n).reduce(((e,[n,r])=>(Array.isArray(r)?e[n]=r:e[n]="function"==typeof r?[t,r()]:[t,r],e)),{})),ce=(e,t,n,r)=>{if(null!==t){let o=n[r];"function"==typeof o&&(o=[,o]);const[s=de,i=ue,a=r]=o;return void(("function"==typeof s&&s(t[a])||"function"!=typeof s&&s)&&(e[r]=i(t[a])))}let[o,s]=n[r];if("function"==typeof s){let t;const n=void 0===o&&null!=(t=s()),i="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;n?e[r]=t:i&&(e[r]=s())}else{const t=void 0===o&&null!=s,n="function"==typeof o&&!!o(s)||"function"!=typeof o&&!!o;(t||n)&&(e[r]=s)}},de=e=>null!=e,ue=e=>e,le=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter((e=>null!=e)).map(le);if("object"==typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=le(e[n]));return t}return e}},1701:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(9290),o=n(3197),s=n(181),i=n(6982);class a{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,o.Fo)(c(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,i.createHmac)(this.algorithmIdentifier,c(this.secret)):(0,i.createHash)(this.algorithmIdentifier)}}function c(e,t){return s.Buffer.isBuffer(e)?e:"string"==typeof e?(0,r.s)(e,t):ArrayBuffer.isView(e)?(0,r.Q)(e.buffer,e.byteOffset,e.byteLength):(0,r.Q)(e)}},1919:(e,t,n)=>{n.d(t,{CG:()=>s,Y2:()=>o,cJ:()=>i});var r=n(8218);const o=(e,t)=>(0,r.w)(e,t).then((e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw"SyntaxError"===t?.name&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}})),s=async(e,t)=>{const n=await o(e,t);return n.message=n.message??n.Message,n},i=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(o=e.headers,Object.keys(o).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var o;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0}},1943:t=>{t.exports=e(import.meta.url)("fs/promises")},2203:t=>{t.exports=e(import.meta.url)("stream")},2531:(e,t,n)=>{n.d(t,{o:()=>r});const r=e=>encodeURIComponent(e).replace(/[!'()*]/g,o),o=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},2641:(e,t,n)=>{n.d(t,{D:()=>r});const r=e=>{if("string"==typeof e)return r(new URL(e));const{hostname:t,pathname:n,port:o,protocol:s,search:i}=e;let a;return i&&(a=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(i)),{hostname:t,port:o?parseInt(o):void 0,protocol:s,path:n,query:a}}},2766:e=>{function t(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}t.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,n=e.length,r=0;return new t((function(){return r>=n?{done:!0}:{done:!1,value:e[r++]}}))},t.empty=function(){var e=new t(null);return e.done=!0,e},t.is=function(e){return e instanceof t||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=t},2792:(t,n,r)=>{r.d(n,{QD:()=>C,Ch:()=>c,Bz:()=>d,C9:()=>l,vf:()=>h,p6:()=>R,qw:()=>O,YU:()=>P});var o=r(857);const s=e(import.meta.url)("path"),i={},a=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:r=`C:${s.sep}`}=process.env;if(e)return e;if(t)return t;if(n)return`${r}${n}`;const a=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return i[a]||(i[a]=(0,o.homedir)()),i[a]},c="AWS_PROFILE",d=e=>e.profile||process.env[c]||"default";var u=r(6982);const l=e=>{const t=(0,u.createHash)("sha1").update(e).digest("hex");return(0,s.join)(a(),".aws","sso","cache",`${t}.json`)};var p=r(9896);const{readFile:f}=p.promises,h=async e=>{const t=l(e),n=await f(t,"utf8");return JSON.parse(n)};var m=r(7523);const g=e=>Object.entries(e).filter((([e])=>{const t=e.indexOf(C);return-1!==t&&Object.values(m.Ip).includes(e.substring(0,t))})).reduce(((e,[t,n])=>{const r=t.indexOf(C);return e[t.substring(0,r)===m.Ip.PROFILE?t.substring(r+1):t]=n,e}),{...e.default&&{default:e.default}}),y=()=>process.env.AWS_CONFIG_FILE||(0,s.join)(a(),".aws","config"),w=()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,s.join)(a(),".aws","credentials"),b=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,v=["__proto__","profile __proto__"],E=e=>{const t={};let n,r;for(const o of e.split(/\r?\n/)){const e=o.split(/(^|\s)[;#]/)[0].trim();if("["===e[0]&&"]"===e[e.length-1]){n=void 0,r=void 0;const t=e.substring(1,e.length-1),o=b.exec(t);if(o){const[,e,,t]=o;Object.values(m.Ip).includes(e)&&(n=[e,t].join(C))}else n=t;if(v.includes(t))throw new Error(`Found invalid profile name "${t}"`)}else if(n){const s=e.indexOf("=");if(![0,-1].includes(s)){const[i,a]=[e.substring(0,s).trim(),e.substring(s+1).trim()];if(""===a)r=i;else{r&&o.trimStart()===o&&(r=void 0),t[n]=t[n]||{};const e=r?[r,i].join(C):i;t[n][e]=a}}}}return t},{readFile:S}=p.promises,x={},A=(e,t)=>(x[e]&&!t?.ignoreCache||(x[e]=S(e,"utf8")),x[e]),I=()=>({}),C=".",R=async(e={})=>{const{filepath:t=w(),configFilepath:n=y()}=e,r=a();let o=t;t.startsWith("~/")&&(o=(0,s.join)(r,t.slice(2)));let i=n;n.startsWith("~/")&&(i=(0,s.join)(r,n.slice(2)));const c=await Promise.all([A(i,{ignoreCache:e.ignoreCache}).then(E).then(g).catch(I),A(o,{ignoreCache:e.ignoreCache}).then(E).catch(I)]);return{configFile:c[0],credentialsFile:c[1]}},T=e=>Object.entries(e).filter((([e])=>e.startsWith(m.Ip.SSO_SESSION+C))).reduce(((e,[t,n])=>({...e,[t.substring(t.indexOf(C)+1)]:n})),{}),$=()=>({}),O=async(e={})=>A(e.configFilepath??y()).then(E).then(T).catch($),P=async e=>{const t=await R(e);return((...e)=>{const t={};for(const n of e)for(const[e,r]of Object.entries(n))void 0!==t[e]?Object.assign(t[e],r):t[e]=r;return t})(t.configFile,t.credentialsFile)}},3197:(e,t,n)=>{n.d(t,{ar:()=>o,Fo:()=>s,Pq:()=>i});var r=n(9290);const o=e=>{const t=(0,r.s)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},s=e=>"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),i=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,r.Q)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},3323:(e,t,n)=>{var r;n.d(t,{Y:()=>b,Gz:()=>o,bp:()=>c,L0:()=>s,QJ:()=>a,Df:()=>l,l5:()=>m,G8:()=>d,XP:()=>h,ok:()=>g,XS:()=>p,cm:()=>r,ru:()=>w,jh:()=>u,Rn:()=>f}),function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(r||(r={}));const o=3,s=r.STANDARD;var i=n(4542);class a{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>a.setTimeoutFn(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),(0,i.Qb)(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}a.setTimeoutFn=setTimeout;const c=100,d=2e4,u=500,l=500,p=5,f=10,h=1,m="amz-sdk-invocation-id",g="amz-sdk-request",y=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(d,e),getRetryCost:()=>n});class w{constructor(e){this.maxAttempts=e,this.mode=r.STANDARD,this.capacity=l,this.retryBackoffStrategy=(()=>{let e=c;return{computeNextBackoffDelay:t=>Math.floor(Math.min(d,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return y({retryDelay:c,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?u:c);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,s=this.getCapacityCost(n);return this.capacity-=s,y({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:s})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(l,this.capacity+(e.getRetryCost()??h))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${o}`),o}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?f:p}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class b{constructor(e,t){this.maxAttemptsProvider=e,this.mode=r.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new a,this.standardRetryStrategy=new w(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}},3410:(t,n,r)=>{r.d(n,{hV:()=>a,pf:()=>i});var o=r(857);const s=e(import.meta.url)("process"),i=({serviceId:e,clientVersion:t})=>async n=>{const r=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,o.platform)()}`,(0,o.release)()],["lang/js"],["md/nodejs",`${s.versions.node}`]];e&&r.push([`api/${e}`,t]),s.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${s.env.AWS_EXECUTION_ENV}`]);const i=await(n?.userAgentAppId?.());return i?[...r,[`app/${i}`]]:[...r]};const a={environmentVariableSelector:e=>e.AWS_SDK_UA_APP_ID,configFileSelector:e=>e.sdk_ua_app_id??e["sdk-ua-app-id"],default:r(6961).bM}},3621:(t,n,r)=>{r.d(n,{$c:()=>f,kv:()=>m});var o=r(5479),s=r(2531),i=r(8611);const a=e(import.meta.url)("https"),c=["ECONNRESET","EPIPE","ETIMEDOUT"],d=e=>{const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t},u=(e,t)=>setTimeout(e,t),l=e=>clearTimeout(e);var p=r(2203);class f{static create(e){return"function"==typeof e?.handle?e:new f(e)}static checkSocketUsage(e,t,n=console){const{sockets:r,requests:o,maxSockets:s}=e;if("number"!=typeof s||s===1/0)return t;if(Date.now()-15e3<t)return t;if(r&&o)for(const e in r){const t=r[e]?.length??0,i=o[e]?.length??0;if(t>=s&&i>=2*s)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${i} additional requests are enqueued.\nSee https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html\nor increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise(((t,n)=>{"function"==typeof e?e().then((e=>{t(this.resolveDefaultConfig(e))})).catch(n):t(this.resolveDefaultConfig(e))}))}resolveDefaultConfig(e){const{requestTimeout:t,connectionTimeout:n,socketTimeout:r,socketAcquisitionWarningTimeout:o,httpAgent:s,httpsAgent:c}=e||{},d=!0;return{connectionTimeout:n,requestTimeout:t??r,socketAcquisitionWarningTimeout:o,httpAgent:s instanceof i.Agent||"function"==typeof s?.destroy?s:new i.Agent({keepAlive:d,maxSockets:50,...s}),httpsAgent:c instanceof a.Agent||"function"==typeof c?.destroy?c:new a.Agent({keepAlive:d,maxSockets:50,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise(((n,r)=>{let h;const m=[],g=async e=>{await h,m.forEach(l),r(e)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",void g(e)}const y="https:"===e.protocol,w=y?this.config.httpsAgent:this.config.httpAgent;m.push(u((()=>{this.socketWarningTimestamp=f.checkSocketUsage(w,this.socketWarningTimestamp,this.config.logger)}),this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));const b=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=(0,s.o)(n),Array.isArray(r))for(let e=0,o=r.length;e<o;e++)t.push(`${n}=${(0,s.o)(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${(0,s.o)(r)}`),t.push(e)}}return t.join("&")}(e.query||{});let v;null==e.username&&null==e.password||(v=`${e.username??""}:${e.password??""}`);let E=e.path;b&&(E+=`?${b}`),e.fragment&&(E+=`#${e.fragment}`);let S=e.hostname??"";S="["===S[0]&&S.endsWith("]")?e.hostname.slice(1,-1):e.hostname;const x={headers:e.headers,host:S,method:e.method,path:E,port:e.port,agent:w,auth:v},A=(y?a.request:i.request)(x,(e=>{(async e=>{await h,m.forEach(l),n(e)})({response:new o.cS({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:d(e.headers),body:e})})}));if(A.on("error",(e=>{c.includes(e.code)?g(Object.assign(e,{name:"TimeoutError"})):g(e)})),t){const e=()=>{A.destroy();const e=new Error("Request aborted");e.name="AbortError",g(e)};if("function"==typeof t.addEventListener){const n=t;n.addEventListener("abort",e,{once:!0}),A.once("close",(()=>n.removeEventListener("abort",e)))}else t.onabort=e}m.push(((e,t,n=0)=>{if(!n)return-1;const r=r=>{const o=u((()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${n} ms`),{name:"TimeoutError"}))}),n-r),s=e=>{e?.connecting?e.on("connect",(()=>{l(o)})):l(o)};e.socket?s(e.socket):e.on("socket",s)};return n<2e3?(r(0),0):u(r.bind(null,1e3),1e3)})(A,g,this.config.connectionTimeout)),m.push(((e,t,n=0)=>{const r=r=>{const o=n-r,s=()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${n} ms`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,s),e.on("close",(()=>e.socket?.removeListener("timeout",s)))):e.setTimeout(o,s)};return 0<n&&n<6e3?(r(0),0):u(r.bind(null,0===n?0:3e3),3e3)})(A,g,this.config.requestTimeout));const I=x.agent;"object"==typeof I&&"keepAlive"in I&&m.push(((e,{keepAlive:t,keepAliveMsecs:n},r=3e3)=>{if(!0!==t)return-1;const o=()=>{e.socket?e.socket.setKeepAlive(t,n||0):e.on("socket",(e=>{e.setKeepAlive(t,n||0)}))};return 0===r?(o(),0):u(o,r)})(A,{keepAlive:I.keepAlive,keepAliveMsecs:I.keepAliveMsecs})),h=async function(e,t,n=6e3){const r=t.headers??{},o=r.Expect||r.expect;let s=-1,i=!0;"100-continue"===o&&(i=await Promise.race([new Promise((e=>{s=Number(u((()=>e(!0)),Math.max(6e3,n)))})),new Promise((t=>{e.on("continue",(()=>{l(s),t(!0)})),e.on("response",(()=>{l(s),t(!1)})),e.on("error",(()=>{l(s),t(!1)}))}))])),i&&function(e,t){if(t instanceof p.Readable)t.pipe(e);else{if(t){if(Buffer.isBuffer(t)||"string"==typeof t)return void e.end(t);const n=t;return"object"==typeof n&&n.buffer&&"number"==typeof n.byteOffset&&"number"==typeof n.byteLength?void e.end(Buffer.from(n.buffer,n.byteOffset,n.byteLength)):void e.end(Buffer.from(t))}e.end()}}(e,t.body)}(A,e,this.config.requestTimeout).catch((e=>(m.forEach(l),r(e))))}))}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>({...n,[e]:t})))}httpHandlerConfigs(){return this.config??{}}}e(import.meta.url)("http2"),Symbol.iterator;class h extends p.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,n){this.bufferedBytes.push(e),n()}}const m=e=>g(e)?async function(e){const t=[],n=e.getReader();let r=!1,o=0;for(;!r;){const{done:e,value:s}=await n.read();s&&(t.push(s),o+=s.length),r=e}const s=new Uint8Array(o);let i=0;for(const e of t)s.set(e,i),i+=e.length;return s}(e):new Promise(((t,n)=>{const r=new h;e.pipe(r),e.on("error",(e=>{r.end(),n(e)})),r.on("error",n),r.on("finish",(function(){const e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)}))})),g=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream},3695:(e,t,n)=>{n.d(t,{m:()=>r});const r=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},4171:(e,t,n)=>{n.d(t,{qs:()=>y,kN:()=>b,ey:()=>C,$z:()=>w});var r=n(3323),o=n(5479),s=n(4542),i=n(6982),a=n.n(i);const c={randomUUID:a().randomUUID},d=new Uint8Array(256);let u=d.length;function l(){return u>d.length-16&&(a().randomFillSync(d),u=0),d.slice(u,u+=16)}const p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));const f=function(e,t,n){if(c.randomUUID&&!t&&!e)return c.randomUUID();const r=(e=e||{}).random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]}(r)};var h=n(7135);const m="AWS_MAX_ATTEMPTS",g="max_attempts",y={environmentVariableSelector:e=>{const t=e[m];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${m} mast be a number, got "${t}"`);return n},configFileSelector:e=>{const t=e[g];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${g} mast be a number, got "${t}"`);return n},default:r.Gz},w=e=>{const{retryStrategy:t,retryMode:n,maxAttempts:o}=e,s=(0,h.t)(o??r.Gz);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await(0,h.t)(n)()===r.cm.ADAPTIVE?new r.Y(s):new r.ru(s))})},b={environmentVariableSelector:e=>e.AWS_RETRY_MODE,configFileSelector:e=>e.retry_mode,default:r.L0};var v=n(1540),E=n(2203);const S=e=>e?.body instanceof E.Readable||"undefined"!=typeof ReadableStream&&e?.body instanceof ReadableStream,x=e=>{const t={error:e,errorType:A(e)},n=R(e.$response);return n&&(t.retryAfterHint=n),t},A=e=>(0,s.Qb)(e)?"THROTTLING":(0,s.bV)(e)?"TRANSIENT":(0,s.GQ)(e)?"SERVER_ERROR":"CLIENT_ERROR",I={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},C=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async s=>{let i=await e.retryStrategy();const a=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(i))return i?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,s);{let e=await i.acquireInitialRetryToken(n.partition_id),d=new Error,u=0,l=0;const{request:p}=s,h=o.Kd.isInstance(p);for(h&&(p.headers[r.l5]=f());;)try{h&&(p.headers[r.ok]=`attempt=${u+1}; max=${a}`);const{response:n,output:o}=await t(s);return i.recordSuccess(e),o.$metadata.attempts=u+1,o.$metadata.totalRetryDelay=l,{response:n,output:o}}catch(t){const r=x(t);if(d=(c=t)instanceof Error?c:c instanceof Object?Object.assign(new Error,c):"string"==typeof c?new Error(c):new Error(`AWS SDK error wrapper for ${c}`),h&&S(p))throw(n.logger instanceof v.N4?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),d;try{e=await i.refreshRetryTokenForRetry(e,r)}catch(e){throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=u+1,d.$metadata.totalRetryDelay=l,d}u=e.getRetryCount();const o=e.getRetryDelay();l+=o,await new Promise((e=>setTimeout(e,o)))}}var c})(e),I)}}),R=e=>{if(!o.cS.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)}},4321:(e,t,n)=>{n.d(t,{I:()=>u});var r=n(1487),o=n(9987),s=n(8112);const i="AWS_REGION",a="AWS_DEFAULT_REGION",c=["in-region","cross-region","mobile","standard","legacy"],d={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},u=({region:e=(0,o.Z)(r.GG),defaultsMode:t=(0,o.Z)(d)}={})=>(0,s.Bj)((async()=>{const n="function"==typeof t?await t():t;switch(n?.toLowerCase()){case"auto":return l(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${c.join(", ")}, got ${n}`)}})),l=async e=>{if(e){const t="function"==typeof e?await e():e,n=await p();return n?t===n?"in-region":"cross-region":"standard"}return"standard"},p=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[i]||process.env[a]))return process.env[i]??process.env[a];if(!process.env.AWS_EC2_METADATA_DISABLED)try{const{getInstanceMetadataEndpoint:e,httpRequest:t}=await n.e(897).then(n.bind(n,7897)),r=await e();return(await t({...r,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}}},4542:(e,t,n)=>{n.d(t,{h5:()=>d,S0:()=>c,GQ:()=>p,Qb:()=>u,bV:()=>l});const r=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],o=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],s=["TimeoutError","RequestTimeout","RequestTimeoutException"],i=[500,502,503,504],a=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],c=e=>void 0!==e.$retryable,d=e=>r.includes(e.name),u=e=>429===e.$metadata?.httpStatusCode||o.includes(e.name)||1==e.$retryable?.throttling,l=(e,t=0)=>(e=>e.$metadata?.clockSkewCorrected)(e)||s.includes(e.name)||a.includes(e?.code||"")||i.includes(e.$metadata?.httpStatusCode||0)||void 0!==e.cause&&t<=10&&l(e.cause,t+1),p=e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!l(e)}return!1}},4572:(e,t,n)=>{n.d(t,{E:()=>s,n:()=>a});var r=n(9290);const o=/^[A-Za-z0-9+/]*={0,2}$/,s=e=>{if(3*e.length%4!=0)throw new TypeError("Incorrect padding on base64 string.");if(!o.exec(e))throw new TypeError("Invalid base64 string.");const t=(0,r.s)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var i=n(3197);const a=e=>{let t;if(t="string"==typeof e?(0,i.ar)(e):e,"object"!=typeof t||"number"!=typeof t.byteOffset||"number"!=typeof t.byteLength)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,r.Q)(t.buffer,t.byteOffset,t.byteLength).toString("base64")}},5122:(e,t,n)=>{n.d(t,{I:()=>o});const r={warningEmitted:!1},o=e=>{e&&!r.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(r.warningEmitted=!0,process.emitWarning("NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will\nno longer support Node.js 16.x on January 6, 2025.\n\nTo continue receiving updates to AWS services, bug fixes, and security\nupdates please upgrade to a supported Node.js LTS version.\n\nMore information can be found at: https://a.co/74kJMmI"))}},5317:t=>{t.exports=e(import.meta.url)("child_process")},5384:(e,t)=>{var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,o=Math.pow(2,32)-1,s=Math.pow(2,7)-1,i=Math.pow(2,15)-1,a=Math.pow(2,31)-1;t.getPointerArray=function(e){var t=e-1;return t<=n?Uint8Array:t<=r?Uint16Array:t<=o?Uint32Array:Float64Array},t.getSignedPointerArray=function(e){var t=e-1;return t<=s?Int8Array:t<=i?Int16Array:t<=a?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var c={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var r,o,s,i,a,d=null,u=0;for(i=0,a=e.length;i<a;i++)s=n?n(e[i]):e[i],o=t.getNumberType(s),(r=c[o.name])>u&&(u=r,d=o);return d},t.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,n,r=0;for(e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;var o=new arguments[0].constructor(r);for(e=0,t=0;e<n;e++)o.set(arguments[e],t),t+=arguments[e].length;return o},t.indices=function(e){for(var n=new(t.getPointerArray(e))(e),r=0;r<e;r++)n[r]=r;return n}},5479:(e,t,n)=>{n.d(t,{Kd:()=>s,cS:()=>i,eS:()=>r,jt:()=>o});const r=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler:()=>e.httpHandler,updateHttpClientConfig(t,n){e.httpHandler?.updateHttpClientConfig(t,n)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}),o=e=>({httpHandler:e.httpHandler()});n(7523);class s{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new s({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const r=n[t];return{...e,[t]:Array.isArray(r)?[...r]:r}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return s.clone(this)}}class i{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},6228:(e,t,n)=>{n.d(t,{f2:()=>c});var r=n(5479);const o=e=>new Date(Date.now()+e),s=e=>r.cS.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,i=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(o(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},a=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};class c{async sign(e,t,n){if(!r.Kd.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await(async e=>{const t=a("context",e.context),n=a("config",e.config),r=t.endpointV2?.properties?.authSchemes?.[0],o=a("signer",n.signer),s=await o(r),i=e?.signingRegion,c=e?.signingRegionSet,d=e?.signingName;return{config:n,signer:s,signingRegion:i,signingRegionSet:c,signingName:d}})(n),{config:i,signer:c}=s;let{signingRegion:d,signingName:u}=s;const l=n.context;if(l?.authSchemes?.length){const[e,t]=l.authSchemes;"sigv4a"===e?.name&&"sigv4"===t?.name&&(d=t?.signingRegion??d,u=t?.signingName??u)}return await c.sign(e,{signingDate:o(i.systemClockOffset),signingRegion:d,signingService:u})}errorHandler(e){return t=>{const n=t.ServerTime??s(t.$response);if(n){const r=a("config",e.config),o=r.systemClockOffset;r.systemClockOffset=i(n,r.systemClockOffset),r.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){const n=s(e);if(n){const e=a("config",t.config);e.systemClockOffset=i(n,e.systemClockOffset)}}}},6652:(e,t,n)=>{n.d(t,{UF:()=>a,vL:()=>i});var r=n(8545);const o=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!o(t))return!1;return!0}return!(!(0,r.X8)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,r.oX)(e))};let s=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"AWS ISOF global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"amazonaws.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}}],"version":"1.1"}');const i=()=>"",a={isVirtualHostableS3Bucket:o,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,o,s,i,...a]=t;return"arn"!==n||""===r||""===o||""===a.join(":")?null:{partition:r,service:o,region:s,accountId:i,resourceId:a.map((e=>e.split("/"))).flat()}},partition:e=>{const{partitions:t}=s;for(const n of t){const{regions:t,outputs:r}=n;for(const[n,o]of Object.entries(t))if(n===e)return{...r,...o}}for(const n of t){const{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}}};r.mw.aws=a},6728:(t,n,r)=>{r.d(n,{Mu:()=>i,c9:()=>g});var o=r(4572),s=r(3197);class i extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?i.mutate((0,o.E)(e)):i.mutate((0,s.ar)(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,i.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?(0,o.n)(e):(0,s.Pq)(e)}(this,e)}}var a=r(2203);a.Duplex,"function"==typeof ReadableStream&&ReadableStream,e(import.meta.url)("node:stream"),a.Writable;var c=r(3621),d=r(9290);r(5479);var u=r(8004);const l=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),p="The stream has already been transformed.",f=e=>{if(!h(e)&&!l(e))throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${e?.__proto__?.constructor?.name||e}`);let t=!1;const n=async()=>{if(t)throw new Error(p);return t=!0,await(async e=>"function"==typeof Blob&&e instanceof Blob||"Blob"===e.constructor?.name?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):async function(e){const t=await function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return n(new Error("Reader aborted too early"));const e=r.result??"",o=e.indexOf(","),s=o>-1?o+1:e.length;t(e.substring(s))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)}))}(e),n=(0,o.E)(t);return new Uint8Array(n)}(e):async function(e){const t=[],n=e.getReader();let r=!1,o=0;for(;!r;){const{done:e,value:s}=await n.read();s&&(t.push(s),o+=s.length),r=e}const s=new Uint8Array(o);let i=0;for(const e of t)s.set(e,i),i+=e.length;return s}(e))(e)};return Object.assign(e,{transformToByteArray:n,transformToString:async e=>{const t=await n();if("base64"===e)return(0,o.n)(t);if("hex"===e)return(0,u.n)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,s.Pq)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(p);if(t=!0,h(e))return(e=>{if("function"!=typeof e.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()})(e);if(l(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},h=e=>"function"==typeof Blob&&e instanceof Blob,m="The stream has already been transformed.",g=e=>{if(!(e instanceof a.Readable))try{return f(e)}catch(t){throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${e?.__proto__?.constructor?.name||e}`)}let t=!1;const n=async()=>{if(t)throw new Error(m);return t=!0,await(0,c.kv)(e)};return Object.assign(e,{transformToByteArray:n,transformToString:async e=>{const t=await n();return void 0===e||Buffer.isEncoding(e)?(0,d.Q)(t.buffer,t.byteOffset,t.byteLength).toString(e):new TextDecoder(e).decode(t)},transformToWebStream:()=>{if(t)throw new Error(m);if(null!==e.readableFlowing)throw new Error("The stream has been consumed by other callbacks.");if("function"!=typeof a.Readable.toWeb)throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,a.Readable.toWeb(e)}})}},6864:(e,t,n)=>{n.d(t,{h$:()=>h,mR:()=>m,e:()=>y,wB:()=>s,lW:()=>u,OC:()=>g,K4:()=>w,te:()=>l,lI:()=>p.lI,J7:()=>f}),n(7523);var r=n(7135);const o={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},s=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:s=>{s.addRelativeTo(((e,t)=>(n,o)=>async s=>{const i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,o,s.input)),a=function(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}(e.httpAuthSchemes),c=(0,r.u)(o),d=[];for(const n of i){const r=a.get(n.schemeId);if(!r){d.push(`HttpAuthScheme \`${n.schemeId}\` was not enabled for this service.`);continue}const s=r.identityProvider(await t.identityProviderConfigProvider(e));if(!s){d.push(`HttpAuthScheme \`${n.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:i={},signingProperties:u={}}=n.propertiesExtractor?.(e,o)||{};n.identityProperties=Object.assign(n.identityProperties||{},i),n.signingProperties=Object.assign(n.signingProperties||{},u),c.selectedHttpAuthScheme={httpAuthOption:n,identity:await s(n.identityProperties),signer:r.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(d.join("\n"));return n(s)})(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),o)}});n(1208).Ou.name;var i=n(5479);const a=e=>e=>{throw e},c=(e,t)=>{},d={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},u=e=>({applyToStack:e=>{e.addRelativeTo(((e,t)=>async n=>{if(!i.Kd.isInstance(n.request))return e(n);const o=(0,r.u)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:s={}},identity:d,signer:u}=o,l=await e({...n,request:await u.sign(n.request,d,s)}).catch((u.errorHandler||a)(s));return(u.successHandler||c)(l.response,s),l}),d)}}),l=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t};var p=n(7115);function f(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}class h{constructor(e){this.authSchemes=new Map;for(const[t,n]of Object.entries(e))void 0!==n&&this.authSchemes.set(t,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}class m{async sign(e,t,n){return e}}const g=e=>y(e)&&e.expiration.getTime()-Date.now()<3e5;const y=e=>void 0!==e.expiration,w=(e,t,n)=>{if(void 0===e)return;const r="function"!=typeof e?async()=>Promise.resolve(e):e;let o,s,i,a=!1;const c=async e=>{s||(s=r(e));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return void 0===t?async e=>(i&&!e?.forceRefresh||(o=await c(e)),o):async e=>(i&&!e?.forceRefresh||(o=await c(e)),a?o:n(o)?t(o)?(await c(e),o):o:(a=!0,o))}},6928:(e,t,n)=>{n.d(t,{Rq:()=>r,$3:()=>o});const r=e=>({setRegion(t){e.region=t},region:()=>e.region}),o=e=>({region:e.region()})},6961:(e,t,n)=>{n.d(t,{bM:()=>o,sM:()=>g,Dc:()=>s});var r=n(6864);const o=void 0;function s(e){const t=(0,r.te)(e.userAgentAppId??o),{customUserAgent:n}=e;return Object.assign(e,{customUserAgent:"string"==typeof n?[[n]]:n,userAgentAppId:async()=>{const n=await t();if(!function(e){return void 0===e||"string"==typeof e&&e.length<=50}(n)){const t="NoOpLogger"!==e.logger?.constructor?.name&&e.logger?e.logger:console;"string"!=typeof n?t?.warn("userAgentAppId must be a string or undefined."):n.length>50&&t?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var i=n(6652),a=n(5479);function c(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}const d=/\d{12}\.ddb/,u="user-agent",l="x-amz-user-agent",p=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,f=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,h=e=>{const t=e[0].split("/").map((e=>e.replace(p,"-"))).join("/"),n=e[1]?.replace(f,"-"),r=t.indexOf("/"),o=t.substring(0,r);let s=t.substring(r+1);return"api"===o&&(s=s.toLowerCase()),[o,s,n].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}}),"")},m={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},g=e=>({applyToStack:t=>{var n;t.add((n=e,(e,t)=>async r=>{const{request:o}=r;if(!a.Kd.isInstance(o))return e(r);const{headers:s}=o,p=t?.userAgent?.map(h)||[],f=(await n.defaultUserAgentProvider()).map(h);await async function(e,t,n){const r=n.request;if("rpc-v2-cbor"===r?.headers?.["smithy-protocol"]&&c(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof t.retryStrategy){const n=await t.retryStrategy();"function"==typeof n.acquireInitialRetryToken?n.constructor?.name?.includes("Adaptive")?c(e,"RETRY_MODE_ADAPTIVE","F"):c(e,"RETRY_MODE_STANDARD","E"):c(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof t.accountIdEndpointMode){const n=e.endpointV2;switch(String(n?.url?.hostname).match(d)&&c(e,"ACCOUNT_ID_ENDPOINT","O"),await(t.accountIdEndpointMode?.())){case"disabled":c(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":c(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":c(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}const o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){const t=o;t.accountId&&c(e,"RESOLVED_ACCOUNT_ID","T");for(const[n,r]of Object.entries(t.$source??{}))c(e,n,r)}}(t,n,r);const m=t;f.push(`m/${function(e){let t="";for(const n in e){const r=e[n];if(!(t.length+r.length+1<=1024))break;t.length?t+=","+r:t+=r}return t}(Object.assign({},t.__smithy_context?.features,m.__aws_sdk_context?.features))}`);const g=n?.customUserAgent?.map(h)||[],y=await n.userAgentAppId();y&&f.push(h([`app/${y}`]));const w=(0,i.vL)(),b=(w?[w]:[]).concat([...f,...p,...g]).join(" "),v=[...f.filter((e=>e.startsWith("aws-sdk-"))),...g].join(" ");return"browser"!==n.runtime?(v&&(s[l]=s[l]?`${s[u]} ${v}`:v),s[u]=b):s[l]=b,e({...r,request:o})}),m)}})},6982:t=>{t.exports=e(import.meta.url)("crypto")},7016:t=>{t.exports=e(import.meta.url)("url")},7115:(e,t,n)=>{n.d(t,{Px:()=>o,$6:()=>s,lI:()=>a});var r=n(6728);const o=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return r.Mu.mutate(e);if(!e)return r.Mu.mutate(new Uint8Array);const n=t.streamCollector(e);return r.Mu.mutate(await n)};function s(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var i=n(5479);function a(e,t){return new c(e,t)}class c{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:n,path:r}=await this.context.endpoint();this.path=r;for(const e of this.resolvePathStack)e(this.path);return new i.Kd({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push((t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e})),this}p(e,t,n,r){return this.resolvePathStack.push((o=>{this.path=((e,t,n,r,o,i)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(o,i?t.split("/").map((e=>s(e))).join("/"):s(t))}return e})(o,this.input,e,t,n,r)})),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}},7135:(e,t,n)=>{n.d(t,{u:()=>o,t:()=>s});var r=n(7523);const o=e=>e[r.Vf]||(e[r.Vf]={}),s=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t}},7523:(e,t,n)=>{var r,o,s,i,a;n.d(t,{dB:()=>i,Ue:()=>s,Ip:()=>d,Vf:()=>c}),function(e){e.HEADER="header",e.QUERY="query"}(r||(r={})),function(e){e.HEADER="header",e.QUERY="query"}(o||(o={})),function(e){e.HTTP="http",e.HTTPS="https"}(s||(s={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(i||(i={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(a||(a={}));const c="__smithy_context";var d,u;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(d||(d={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(u||(u={}))},7809:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(9896);const o=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,r.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,r.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)}},8004:(e,t,n)=>{n.d(t,{a:()=>s,n:()=>i});const r={},o={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),r[e]=t,o[t]=e}function s(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in o))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=o[r]}return t}function i(e){let t="";for(let n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},8112:(e,t,n)=>{n.d(t,{C1:()=>o,mZ:()=>r,Jh:()=>s,cy:()=>i,VR:()=>a,Bj:()=>c});class r extends Error{constructor(e,t=!0){let n,o=!0;"boolean"==typeof t?(n=void 0,o=t):null!=t&&"object"==typeof t&&(n=t.logger,o=t.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,r.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${e}`)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}class o extends r{constructor(e,t=!0){super(e,t),this.name="CredentialsProviderError",Object.setPrototypeOf(this,o.prototype)}}class s extends r{constructor(e,t=!0){super(e,t),this.name="TokenProviderError",Object.setPrototypeOf(this,s.prototype)}}const i=(...e)=>async()=>{if(0===e.length)throw new r("No providers in chain");let t;for(const n of e)try{return await n()}catch(e){if(t=e,e?.tryNextLink)continue;throw e}throw t},a=e=>()=>Promise.resolve(e),c=(e,t,n)=>{let r,o,s,i=!1;const a=async()=>{o||(o=e());try{r=await o,s=!0,i=!1}finally{o=void 0}return r};return void 0===t?async e=>(s&&!e?.forceRefresh||(r=await a()),r):async e=>(s&&!e?.forceRefresh||(r=await a()),i?r:n&&!n(r)?(i=!0,r):t(r)?(await a(),r):r)}},8218:(e,t,n)=>{n.d(t,{w:()=>o});var r=n(1540);const o=(e,t)=>(0,r.Px)(e,t).then((e=>t.utf8Encoder(e)))},8377:(e,t,n)=>{n.d(t,{n4:()=>i});var r=n(5479);const o="X-Amzn-Trace-Id",s={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},i=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:s}=n;if(!r.Kd.isInstance(s)||"node"!==e.runtime)return t(n);const i=Object.keys(s.headers??{}).find((e=>e.toLowerCase()===o.toLowerCase()))??o;if(s.headers.hasOwnProperty(i))return t(n);const a=process.env.AWS_LAMBDA_FUNCTION_NAME,c=process.env._X_AMZN_TRACE_ID,d=e=>"string"==typeof e&&e.length>0;return d(a)&&d(c)&&(s.headers[o]=c),t({...n,request:s})})(e),s)}})},8545:(e,t,n)=>{n.d(t,{kS:()=>r,mw:()=>c,oX:()=>s,X8:()=>a,sO:()=>$});class r{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}get(e,t){const n=this.hash(e);if(!1===n)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const e=this.data.keys();let t=0;for(;;){const{value:n,done:r}=e.next();if(this.data.delete(n),r||++t>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(e){let t="";const{parameters:n}=this;if(0===n.length)return!1;for(const r of n){const n=String(e[r]??"");if(n.includes("|;"))return!1;t+=n+"|;"}return t}}const o=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),s=e=>o.test(e)||e.startsWith("[")&&e.endsWith("]"),i=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),a=(e,t=!1)=>{if(!t)return i.test(e);const n=e.split(".");for(const e of n)if(!a(e))return!1;return!0},c={},d="endpoints";function u(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${u(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(u).join(", ")})`:JSON.stringify(e,null,2)}class l extends Error{constructor(e){super(e),this.name="EndpointError"}}const p=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new l(`Path: '${e}' does not end with ']'`);const o=r.slice(t+1,-1);if(Number.isNaN(parseInt(o)))throw new l(`Invalid array index: '${o}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(o)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new l(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e);var f=n(7523);const h={[f.Ue.HTTP]:80,[f.Ue.HTTPS]:443},m={booleanEquals:(e,t)=>e===t,getAttr:p,isSet:e=>null!=e,isValidHostLabel:a,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:o="",query:s={}}=e,i=new URL(`${r}//${t}${n?`:${n}`:""}${o}`);return i.search=Object.entries(s).map((([e,t])=>`${e}=${t}`)).join("&"),i}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:o,pathname:i,protocol:a,search:c}=t;if(c)return null;const d=a.slice(0,-1);if(!Object.values(f.Ue).includes(d))return null;const u=s(o);return{scheme:d,authority:`${r}${n.includes(`${r}:${h[d]}`)||"string"==typeof e&&e.includes(`${r}:${h[d]}`)?`:${h[d]}`:""}`,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},g=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let o=0;for(;o<e.length;){const t=e.indexOf("{",o);if(-1===t){n.push(e.slice(o));break}n.push(e.slice(o,t));const s=e.indexOf("}",t);if(-1===s){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[s+1]&&(n.push(e.slice(t+1,s)),o=s+2);const i=e.substring(t+1,s);if(i.includes("#")){const[e,t]=i.split("#");n.push(p(r[e],t))}else n.push(r[i]);o=s+1}return n.join("")},y=(e,t,n)=>{if("string"==typeof e)return g(e,n);if(e.fn)return w(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new l(`'${t}': ${String(e)} is not a string, function or reference.`)},w=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:y(e,"arg",n))),o=e.split(".");return o[0]in c&&null!=o[1]?c[o[0]][o[1]](...r):m[e](...r)},b=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new l(`'${e}' is already defined in Reference Record.`);const r=w(t,n);return n.logger?.debug?.(`${d} evaluateCondition: ${u(t)} = ${u(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},v=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:o}=b(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};o&&(n[o.name]=o.value,t.logger?.debug?.(`${d} assign: ${o.name} := ${u(o.value)}`))}return{result:!0,referenceRecord:n}},E=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=y(e,"Header value entry",t);if("string"!=typeof r)throw new l(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),S=(e,t)=>{if(Array.isArray(e))return e.map((e=>S(e,t)));switch(typeof e){case"string":return g(e,t);case"object":if(null===e)throw new l(`Unexpected endpoint property: ${e}`);return x(e,t);case"boolean":return e;default:throw new l("Unexpected endpoint property type: "+typeof e)}},x=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:S(r,t)})),{}),A=(e,t)=>{const n=y(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new l("Endpoint URL must be a string, got "+typeof n)},I=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:o,referenceRecord:s}=v(n,t);if(!o)return;const i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=r;return t.logger?.debug?.(`${d} Resolving endpoint from template: ${u(r)}`),{...null!=l&&{headers:E(l,i)},...null!=c&&{properties:x(c,i)},url:A(a,i)}},C=(e,t)=>{const{conditions:n,error:r}=e,{result:o,referenceRecord:s}=v(n,t);if(o)throw new l(y(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},R=(e,t)=>{const{conditions:n,rules:r}=e,{result:o,referenceRecord:s}=v(n,t);if(o)return T(r,{...t,referenceRecord:{...t.referenceRecord,...s}})},T=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=I(n,t);if(e)return e}else if("error"===n.type)C(n,t);else{if("tree"!==n.type)throw new l(`Unknown endpoint rule: ${n}`);{const e=R(n,t);if(e)return e}}throw new l("Rules evaluation failed")},$=(e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${d} Initial EndpointParams: ${u(n)}`);const i=Object.entries(o).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(i.length>0)for(const[e,t]of i)n[e]=n[e]??t;const a=Object.entries(o).filter((([,e])=>e.required)).map((([e])=>e));for(const e of a)if(null==n[e])throw new l(`Missing required parameter: '${e}'`);const c=T(s,{endpointParams:n,logger:r,referenceRecord:{}});return t.logger?.debug?.(`${d} Resolved endpoint: ${u(c)}`),c}},8611:t=>{t.exports=e(import.meta.url)("http")},9023:t=>{t.exports=e(import.meta.url)("util")},9290:(e,t,n)=>{n.d(t,{Q:()=>s,s:()=>i});var r=n(3695),o=n(181);const s=(e,t=0,n=e.byteLength-t)=>{if(!(0,r.m)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return o.Buffer.from(e,t,n)},i=(e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?o.Buffer.from(e,t):o.Buffer.from(e)}},9359:(e,t,n)=>{n.d(t,{Y7:()=>o});const r={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},o=e=>({applyToStack:e=>{e.add(((e,t)=>async n=>{try{const r=await e(n),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:d}=a,u=c??t.inputFilterSensitiveLog,l=d??t.outputFilterSensitiveLog,{$metadata:p,...f}=r.output;return i?.info?.({clientName:o,commandName:s,input:u(n.input),output:l(f),metadata:p}),r}catch(e){const{clientName:r,commandName:o,logger:s,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:a}=i,c=a??t.inputFilterSensitiveLog;throw s?.error?.({clientName:r,commandName:o,input:c(n.input),error:e,metadata:e.$metadata}),e}}),r)}})},9389:(e,t,n)=>{n.d(t,{rD:()=>w,Co:()=>b});const r=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,o=/(\d+\.){3}\d+/,s=/\.\./,i=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:o}=e;return`${t}//${n}${r?":"+r:""}${o}`}}return e}:r};var a=n(9987),c=n(2792);const d="AWS_ENDPOINT_URL",u="endpoint_url",l=async e=>(0,a.Z)((e=>({environmentVariableSelector:t=>{const n=e.split(" ").map((e=>e.toUpperCase())),r=t[[d,...n].join("_")];return r||(t[d]||void 0)},configFileSelector:(t,n)=>{if(n&&t.services){const r=n[["services",t.services].join(c.QD)];if(r){const t=e.split(" ").map((e=>e.toLowerCase())),n=r[[t.join("_"),u].join(c.QD)];if(n)return n}}const r=t[u];if(r)return r},default:void 0}))(e??""))();var p=n(2641);const f=e=>"object"==typeof e?"url"in e?(0,p.D)(e.url):e:(0,p.D)(e),h=async(e,t,n)=>{const a={},c=t?.getEndpointParameterInstructions?.()||{};for(const[t,r]of Object.entries(c))switch(r.type){case"staticContextParams":a[t]=r.value;break;case"contextParams":a[t]=e[r.name];break;case"clientContextParams":case"builtInParams":a[t]=await i(r.name,t,n)();break;case"operationContextParams":a[t]=r.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(r))}return 0===Object.keys(c).length&&Object.assign(a,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,r,,,o]=e.split(":"),s="arn"===t&&e.split(":").length>=6,i=Boolean(s&&n&&r&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!r.test(n)||o.test(n)||s.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(a),a};var m=n(6864),g=n(7135);const y={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:n(1208).Ou.name},w=(e,t)=>({applyToStack:n=>{n.addRelativeTo((({config:e,instructions:t})=>(n,r)=>async o=>{e.endpoint&&(0,m.J7)(r,"ENDPOINT_OVERRIDE","N");const s=await(async(e,t,n,r)=>{if(!n.endpoint){let e;e=n.serviceConfiguredEndpoint?await n.serviceConfiguredEndpoint():await l(n.serviceId),e&&(n.endpoint=()=>Promise.resolve(f(e)))}const o=await h(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(o,r)})(o.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=s,r.authSchemes=s.properties?.authSchemes;const i=r.authSchemes?.[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;const e=(0,g.u)(r),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...o})})({config:e,instructions:t}),y)}}),b=e=>{const t=e.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:o}=e,s=null!=n?async()=>f(await(0,g.t)(n)()):void 0,i=!!n,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:i,useDualstackEndpoint:(0,g.t)(r??!1),useFipsEndpoint:(0,g.t)(o??!1)});let c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=l(e.serviceId)),c),a}},9896:t=>{t.exports=e(import.meta.url)("fs")},9938:(e,t,n)=>{var r=n(156),o=n(5384);function s(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||o.isTypedArray(e)},t.guessLength=s,t.toArray=function(e){var t=s(e),n="number"==typeof t?new Array(t):[],o=0;return r(e,(function(e){n[o++]=e})),n},t.toArrayWithIndices=function(e){var t=s(e),n="number"==typeof t?o.getPointerArray(t):Array,i="number"==typeof t?new Array(t):[],a="number"==typeof t?new n(t):[],c=0;return r(e,(function(e){i[c]=e,a[c]=c++})),[i,a]}},9987:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8112);function o(e){try{const t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch(t){return e}}var s=n(2792);const i=({environmentVariableSelector:e,configFileSelector:t,default:n},i={})=>{return(0,r.Bj)((0,r.cy)((a=e,async()=>{try{const e=a(process.env);if(void 0===e)throw new Error;return e}catch(e){throw new r.C1(e.message||`Not found in ENV: ${o(a.toString())}`,{logger:undefined})}}),((e,{preferredFile:t="config",...n}={})=>async()=>{const i=(0,s.Bz)(n),{configFile:a,credentialsFile:c}=await(0,s.p6)(n),d=c[i]||{},u=a[i]||{},l="config"===t?{...d,...u}:{...u,...d};try{const n=e(l,"config"===t?a:c);if(void 0===n)throw new Error;return n}catch(t){throw new r.C1(t.message||`Not found in config files w/ profile [${i}]: ${o(e.toString())}`,{logger:n.logger})}})(t,i),(e=>"function"==typeof e?async()=>await e():(0,r.VR)(e))(n)));var a}}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e](n,n.exports,s),n.exports}s.m=r,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+".mjs",s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t={59:0},n=e=>{var n,r,{__webpack_ids__:o,__webpack_modules__:i,__webpack_runtime__:a}=e,c=0;for(n in i)s.o(i,n)&&(s.m[n]=i[n]);for(a&&a(s);c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&t[r][0](),t[o[c]]=0},s.f.j=(e,r)=>{var o=s.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[1]);else{var i=import("./"+s.u(e)).then(n,(n=>{throw 0!==t[e]&&(t[e]=void 0),n}));i=Promise.race([i,new Promise((n=>o=t[e]=[n]))]),r.push(o[1]=i)}};var i=s(7135);const a="preferred",c=["disabled","preferred","required"];function d(e){return c.includes(e)}const u=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],l="endpoint_discovery_enabled",p=e=>["false","0"].indexOf(e)>=0,f={environmentVariableSelector:e=>{for(let t=0;t<u.length;t++){const n=u[t];if(n in e){const t=e[n];if(""===t)throw Error(`Environment variable ${n} can't be empty of undefined, got "${t}"`);return!p(t)}}},configFileSelector:e=>{if(l in e){const t=e[l];if(void 0===t)throw Error(`Shared config entry ${l} can't be undefined, got "${t}"`);return!p(t)}},default:void 0};var h=s(5479),m=s(1429),g=s.n(m);class y{cache;constructor(e){this.cache=new(g())(e)}getEndpoint(e){const t=this.get(e);if(!t||0===t.length)return;const n=t.map((e=>e.Address));return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;const t=this.cache.get(e);if(!t)return;const n=Date.now(),r=t.filter((e=>n<e.Expires));if(0!==r.length)return r;this.delete(e)}set(e,t){const n=Date.now();this.cache.set(e,t.map((({Address:e,CachePeriodInMinutes:t})=>({Address:e,Expires:n+60*t*1e3}))))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;const t=this.cache.peek(e);return!!t&&t.length>0}clear(){this.cache.clear()}}var w=s(1095),b=s(9359),v=s(8377),E=s(6961),S=s(1487),x=s(6864),A=s(649),I=s(9389),C=s(4171),R=s(1540),T=s(211);const $=async(e,t,n)=>({operation:(0,i.u)(t).operation,region:await(0,i.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),O=e=>{const t=[];return e.operation,t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e)),t};var P=s(1208);const k={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}};var N=s(1919);const _=e=>{if(null!=e)return"object"==typeof e&&"__type"in e&&delete e.__type,(0,R.tN)(e)};class D extends R.TJ{constructor(e){super(e),Object.setPrototypeOf(this,D.prototype)}}class M extends D{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,M.prototype)}}class L extends D{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,L.prototype)}}class j extends D{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,j.prototype)}}class U extends D{name="RequestLimitExceeded";$fault="client";constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,U.prototype)}}class F extends D{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,F.prototype),this.Message=e.Message}}class B extends D{name="ProvisionedThroughputExceededException";$fault="client";constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,B.prototype)}}class z extends D{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,z.prototype)}}class q extends D{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,q.prototype)}}class W extends D{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,W.prototype)}}class H extends D{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,H.prototype)}}class V extends D{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,V.prototype)}}class K extends D{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,K.prototype)}}class G extends D{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,G.prototype)}}class J extends D{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,J.prototype)}}class Y extends D{name="ReplicatedWriteConflictException";$fault="client";constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,Y.prototype)}}class Z extends D{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,Z.prototype)}}class X extends D{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,X.prototype)}}class Q extends D{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,Q.prototype)}}class ee extends D{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,ee.prototype)}}class te extends D{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,te.prototype)}}class ne extends D{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,ne.prototype)}}class re extends D{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,re.prototype),this.Message=e.Message}}class oe extends D{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,oe.prototype),this.Message=e.Message}}class se extends D{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,se.prototype)}}class ie extends D{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,ie.prototype)}}class ae extends D{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,ae.prototype)}}class ce extends D{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,ce.prototype)}}class de extends D{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,de.prototype)}}class ue extends D{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,ue.prototype)}}class le extends D{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,le.prototype)}}class pe extends D{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,pe.prototype)}}class fe extends D{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,fe.prototype)}}var he;!function(e){e.visit=(e,t)=>void 0!==e.S?t.S(e.S):void 0!==e.N?t.N(e.N):void 0!==e.B?t.B(e.B):void 0!==e.SS?t.SS(e.SS):void 0!==e.NS?t.NS(e.NS):void 0!==e.BS?t.BS(e.BS):void 0!==e.M?t.M(e.M):void 0!==e.L?t.L(e.L):void 0!==e.NULL?t.NULL(e.NULL):void 0!==e.BOOL?t.BOOL(e.BOOL):t._(e.$unknown[0],e.$unknown[1])}(he||(he={}));class me extends D{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,me.prototype),this.Item=e.Item}}class ge extends D{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,ge.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}}const ye=async(e,t)=>{const n=Et("DescribeEndpoints");let r;return r=JSON.stringify((0,R.Ss)(e)),vt(t,n,"/",void 0,r)},we=async(e,t)=>{const n=Et("GetItem");let r;return r=JSON.stringify(ot(e,t)),vt(t,n,"/",void 0,r)},be=async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);const n=await(0,N.Y2)(e.body,t);let r={};return r=(0,R.Ss)(n),{$metadata:wt(e),...r}},ve=async(e,t)=>{if(e.statusCode>=300)return Ee(e,t);const n=await(0,N.Y2)(e.body,t);let r={};return r=ft(n,t),{$metadata:wt(e),...r}},Ee=async(e,t)=>{const n={...e,body:await(0,N.CG)(e.body,t)},r=(0,N.cJ)(e,n.body);switch(r){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await De(n,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Ke(n,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await Me(n,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await qe(n,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await Je(n,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await Ue(n,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Se(n,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await Ie(n,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await Fe(n,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await Ze(n,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Xe(n,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await $e(n,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await Ge(n,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await xe(n,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await Ae(n,t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await Ve(n,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await et(n,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await ze(n,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await Te(n,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await Oe(n,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await Ne(n,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await Ce(n,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await Pe(n,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Qe(n,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await tt(n,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await Re(n,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await Le(n,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await Be(n,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await ke(n,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Ye(n,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await je(n,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await We(n,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await He(n,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await _e(n,t);default:const o=n.body;return bt({output:e,parsedBody:o,errorCode:r})}},Se=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new M({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},xe=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new L({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ae=async(e,t)=>{const n=e.body,r=pt(n,t),o=new me({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ie=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new W({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ce=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new ne({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Re=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new se({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Te=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new Q({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},$e=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new G({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Oe=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new ee({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Pe=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new re({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},ke=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new ce({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ne=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new te({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},_e=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new fe({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},De=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new j({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Me=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new F({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Le=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new ie({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},je=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new ue({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ue=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new q({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Fe=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new H({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Be=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new ae({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},ze=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new X({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},qe=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new B({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},We=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new le({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},He=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new pe({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ve=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new Y({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ke=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new U({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ge=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new J({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Je=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new z({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ye=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new de({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Ze=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new V({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Xe=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new K({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},Qe=async(e,t)=>{const n=e.body,r=yt(n,t),o=new ge({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},et=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new Z({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},tt=async(e,t)=>{const n=e.body,r=(0,R.Ss)(n),o=new oe({$metadata:wt(e),...r});return(0,R.Mw)(o,n)},nt=(e,t)=>he.visit(e,{B:e=>({B:t.base64Encoder(e)}),BOOL:e=>({BOOL:e}),BS:e=>({BS:rt(e,t)}),L:e=>({L:it(e,t)}),M:e=>({M:at(e,t)}),N:e=>({N:e}),NS:e=>({NS:(0,R.Ss)(e)}),NULL:e=>({NULL:e}),S:e=>({S:e}),SS:e=>({SS:(0,R.Ss)(e)}),_:(e,t)=>({[e]:t})}),rt=(e,t)=>e.filter((e=>null!=e)).map((e=>t.base64Encoder(e))),ot=(e,t)=>(0,R.s)(e,{AttributesToGet:R.Ss,ConsistentRead:[],ExpressionAttributeNames:R.Ss,Key:e=>st(e,t),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),st=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=nt(r,t)),e)),{}),it=(e,t)=>e.filter((e=>null!=e)).map((e=>nt(e,t))),at=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=nt(r,t)),e)),{}),ct=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=dt(_(r),t)),e)),{}),dt=(e,t)=>null!=e.B?{B:t.base64Decoder(e.B)}:void 0!==(0,R.ak)(e.BOOL)?{BOOL:(0,R.ak)(e.BOOL)}:null!=e.BS?{BS:ut(e.BS,t)}:null!=e.L?{L:ht(e.L,t)}:null!=e.M?{M:mt(e.M,t)}:void 0!==(0,R.lK)(e.N)?{N:(0,R.lK)(e.N)}:null!=e.NS?{NS:(0,R.Ss)(e.NS)}:void 0!==(0,R.ak)(e.NULL)?{NULL:(0,R.ak)(e.NULL)}:void 0!==(0,R.lK)(e.S)?{S:(0,R.lK)(e.S)}:null!=e.SS?{SS:(0,R.Ss)(e.SS)}:{$unknown:Object.entries(e)[0]},ut=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>t.base64Decoder(e)));return n},lt=(e,t)=>(0,R.s)(e,{CapacityUnits:R.JW,ReadCapacityUnits:R.JW,WriteCapacityUnits:R.JW}),pt=(e,t)=>(0,R.s)(e,{Item:e=>ct(e,t),message:R.lK}),ft=(e,t)=>(0,R.s)(e,{ConsumedCapacity:e=>((e,t)=>(0,R.s)(e,{CapacityUnits:R.JW,GlobalSecondaryIndexes:e=>gt(e,t),LocalSecondaryIndexes:e=>gt(e,t),ReadCapacityUnits:R.JW,Table:e=>lt(e),TableName:R.lK,WriteCapacityUnits:R.JW}))(e,t),Item:e=>ct(e,t)}),ht=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>dt(_(e),t)));return n},mt=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>(null===r||(e[n]=dt(_(r),t)),e)),{}),gt=(e,t)=>Object.entries(e).reduce(((e,[t,n])=>(null===n||(e[t]=lt(n)),e)),{}),yt=(e,t)=>(0,R.s)(e,{CancellationReasons:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>((e,t)=>(0,R.s)(e,{Code:R.lK,Item:e=>ct(e,t),Message:R.lK}))(e,t)));return n})(e,t),Message:R.lK}),wt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),bt=(0,R.jr)(D),vt=async(e,t,n,r,o)=>{const{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(d.hostname=r),void 0!==o&&(d.body=o),new h.Kd(d)};function Et(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}class St extends(R.uB.classBuilder().ep(k).m((function(e,t,n,r){return[(0,P.TM)(n,this.serialize,this.deserialize),(0,I.rD)(n,e.getEndpointParameterInstructions())]})).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(ye).de(be).build()){}var xt=s(5122);const At="Invalid AccountIdEndpointMode value",It=e=>{throw new Error(e)},Ct={environmentVariableSelector:e=>{const t=e.AWS_ACCOUNT_ID_ENDPOINT_MODE;return t&&!d(t)&&It(At),t},configFileSelector:e=>{const t=e.account_id_endpoint_mode;return t&&!d(t)&&It(At),t},default:a};var Rt=s(904),Tt=s(8112),$t=s(2792);const Ot="AWS_EC2_METADATA_DISABLED";let Pt=!1;const kt=(e={})=>(0,Tt.Bj)((0,Tt.cy)((async()=>{if(e.profile??process.env[$t.Ch])throw process.env[Rt.yG]&&process.env[Rt.pi]&&!Pt&&((e.logger?.warn&&"NoOpLogger"!==e.logger?.constructor?.name?e.logger.warn:console.warn)("@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:\n    Multiple credential sources detected: \n    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.\n    This SDK will proceed with the AWS_PROFILE value.\n    \n    However, a future version may change this behavior to prefer the ENV static credentials.\n    Please ensure that your environment only sets either the AWS_PROFILE or the\n    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.\n"),Pt=!0),new Tt.C1("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Rt.fromEnv)(e)()}),(async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");const{ssoStartUrl:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:o,ssoSession:i}=e;if(!(t||n||r||o||i))throw new Tt.C1("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});const{fromSSO:a}=await s.e(791).then(s.bind(s,9791));return a(e)()}),(async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");const{fromIni:t}=await s.e(789).then(s.bind(s,2789));return t(e)()}),(async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");const{fromProcess:t}=await s.e(109).then(s.bind(s,5109));return t(e)()}),(async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");const{fromTokenFile:t}=await s.e(819).then(s.bind(s,7819));return t(e)()}),(async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await(async e=>{const{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:n,fromContainerMetadata:r,fromInstanceMetadata:o}=await s.e(897).then(s.bind(s,7897));if(process.env[n]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");const{fromHttp:t}=await s.e(610).then(s.bind(s,3610));return(0,Tt.cy)(t(e),r(e))}return process.env[Ot]&&"false"!==process.env[Ot]?async()=>{throw new Tt.C1("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))})(e))())),(async()=>{throw new Tt.C1("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})})),_t,Nt),Nt=e=>void 0!==e?.expiration,_t=e=>void 0!==e?.expiration&&e.expiration.getTime()-Date.now()<3e5;var Dt=s(3410),Mt=s(1701),Lt=s(9987),jt=s(3621),Ut=s(7809),Ft=s(3323),Bt=s(6228),zt=s(2641),qt=s(4572),Wt=s(3197),Ht=s(6652),Vt=s(8545);const Kt="required",Gt="type",Jt="fn",Yt="argv",Zt="ref",Xt="properties",Qt="headers",en=!1,tn="isSet",nn="error",rn="endpoint",on="tree",sn="PartitionResult",an="stringEquals",cn="dynamodb",dn="getAttr",un="aws.parseArn",ln="ParsedArn",pn="isValidHostLabel",fn="FirstArn",hn={[Kt]:!1,[Gt]:"String"},mn={[Kt]:!0,default:!1,[Gt]:"Boolean"},gn={[Jt]:"booleanEquals",[Yt]:[{[Zt]:"UseFIPS"},!0]},yn={[Jt]:"booleanEquals",[Yt]:[{[Zt]:"UseDualStack"},!0]},wn={},bn={[Zt]:"Region"},vn={[Jt]:"booleanEquals",[Yt]:[{[Jt]:dn,[Yt]:[{[Zt]:sn},"supportsFIPS"]},!0]},En={[Jt]:"booleanEquals",[Yt]:[{[Jt]:dn,[Yt]:[{[Zt]:sn},"supportsDualStack"]},!0]},Sn={conditions:[{[Jt]:tn,[Yt]:[{[Zt]:"AccountIdEndpointMode"}]},{[Jt]:an,[Yt]:[{[Zt]:"AccountIdEndpointMode"},"required"]}],rules:[{[nn]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Gt]:nn}],[Gt]:on},xn={[Jt]:tn,[Yt]:[{[Zt]:"AccountIdEndpointMode"}]},An={[nn]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Gt]:nn},In={[Jt]:dn,[Yt]:[{[Zt]:sn},"name"]},Cn={[rn]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Xt]:{},[Qt]:{}},[Gt]:rn},Rn={[Jt]:"not",[Yt]:[gn]},Tn={[nn]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[Gt]:nn},$n={[Jt]:"not",[Yt]:[{[Jt]:an,[Yt]:[{[Zt]:"AccountIdEndpointMode"},"disabled"]}]},On={[Jt]:an,[Yt]:[In,"aws"]},Pn={[Jt]:"not",[Yt]:[yn]},kn={[Jt]:an,[Yt]:[{[Jt]:dn,[Yt]:[{[Zt]:ln},"service"]},cn]},Nn={[Jt]:pn,[Yt]:[{[Jt]:dn,[Yt]:[{[Zt]:ln},"region"]},!1]},_n={[Jt]:an,[Yt]:[{[Jt]:dn,[Yt]:[{[Zt]:ln},"region"]},"{Region}"]},Dn={[Jt]:pn,[Yt]:[{[Jt]:dn,[Yt]:[{[Zt]:ln},"accountId"]},!1]},Mn={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Xt]:{},[Qt]:{}},Ln={[Zt]:"ResourceArnList"},jn={[Zt]:"AccountId"},Un=[gn],Fn=[yn],Bn=[bn],zn=[xn,{[Jt]:an,[Yt]:[{[Zt]:"AccountIdEndpointMode"},"required"]}],qn=[Rn],Wn=[{[Zt]:"ResourceArn"}],Hn={version:"1.0",parameters:{Region:hn,UseDualStack:mn,UseFIPS:mn,Endpoint:hn,AccountId:hn,AccountIdEndpointMode:hn,ResourceArn:hn,ResourceArnList:{[Kt]:en,[Gt]:"stringArray"}},rules:[{conditions:[{[Jt]:tn,[Yt]:[{[Zt]:"Endpoint"}]}],rules:[{conditions:Un,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Gt]:nn},{conditions:Fn,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Gt]:nn},{endpoint:{url:"{Endpoint}",[Xt]:wn,[Qt]:wn},[Gt]:rn}],[Gt]:on},{conditions:[{[Jt]:tn,[Yt]:Bn}],rules:[{conditions:[{[Jt]:"aws.partition",[Yt]:Bn,assign:sn}],rules:[{conditions:[{[Jt]:an,[Yt]:[bn,"local"]}],rules:[{conditions:Un,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Gt]:nn},{conditions:Fn,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Gt]:nn},{endpoint:{url:"http://localhost:8000",[Xt]:{authSchemes:[{name:"sigv4",signingName:cn,signingRegion:"us-east-1"}]},[Qt]:wn},[Gt]:rn}],[Gt]:on},{conditions:[gn,yn],rules:[{conditions:[vn,En],rules:[Sn,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Xt]:wn,[Qt]:wn},[Gt]:rn}],[Gt]:on},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Gt]:nn}],[Gt]:on},{conditions:Un,rules:[{conditions:[vn],rules:[{conditions:[{[Jt]:an,[Yt]:[In,"aws-us-gov"]}],rules:[Sn,Cn],[Gt]:on},Sn,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Xt]:wn,[Qt]:wn},[Gt]:rn}],[Gt]:on},{error:"FIPS is enabled but this partition does not support FIPS",[Gt]:nn}],[Gt]:on},{conditions:Fn,rules:[{conditions:[En],rules:[{conditions:zn,rules:[{conditions:qn,rules:[Tn],[Gt]:on},An],[Gt]:on},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Xt]:wn,[Qt]:wn},[Gt]:rn}],[Gt]:on},{error:"DualStack is enabled but this partition does not support DualStack",[Gt]:nn}],[Gt]:on},{conditions:[xn,$n,On,Rn,Pn,{[Jt]:tn,[Yt]:Wn},{[Jt]:un,[Yt]:Wn,assign:ln},kn,Nn,_n,Dn],endpoint:Mn,[Gt]:rn},{conditions:[xn,$n,On,Rn,Pn,{[Jt]:tn,[Yt]:[Ln]},{[Jt]:dn,[Yt]:[Ln,"[0]"],assign:fn},{[Jt]:un,[Yt]:[{[Zt]:fn}],assign:ln},kn,Nn,_n,Dn],endpoint:Mn,[Gt]:rn},{conditions:[xn,$n,On,Rn,Pn,{[Jt]:tn,[Yt]:[jn]}],rules:[{conditions:[{[Jt]:pn,[Yt]:[jn,en]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Xt]:wn,[Qt]:wn},[Gt]:rn}],[Gt]:on},{error:"Credentials-sourced account ID parameter is invalid",[Gt]:nn}],[Gt]:on},{conditions:zn,rules:[{conditions:qn,rules:[{conditions:[Pn],rules:[{conditions:[On],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Gt]:nn}],[Gt]:on},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Gt]:nn}],[Gt]:on},Tn],[Gt]:on},An],[Gt]:on},Cn],[Gt]:on}],[Gt]:on},{error:"Invalid Configuration: Missing Region",[Gt]:nn}]},Vn=new Vt.kS({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),Kn=(e,t={})=>Vn.get(e,(()=>(0,Vt.sO)(Hn,{endpointParams:e,logger:t.logger})));Vt.mw.aws=Ht.UF;var Gn=s(4321);var Jn=s(6928);class Yn extends R.Kj{config;constructor(...[e]){const t=(e=>{(0,R.I9)(process.version);const t=(0,Gn.I)(e),n=()=>t().then(R.lT),r=(e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??qt.E,base64Encoder:e?.base64Encoder??qt.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Kn,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??O,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Bt.f2}],logger:e?.logger??new R.N4,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??zt.D,utf8Decoder:e?.utf8Decoder??Wt.ar,utf8Encoder:e?.utf8Encoder??Wt.Pq}))(e);(0,xt.I)(process.version);const o={profile:e?.profile};return{...r,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,Lt.Z)(Ct,o),bodyLengthChecker:e?.bodyLengthChecker??Ut.n,credentialDefaultProvider:e?.credentialDefaultProvider??kt,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Dt.pf)({serviceId:r.serviceId,clientVersion:"3.788.0"}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,Lt.Z)(f,o),maxAttempts:e?.maxAttempts??(0,Lt.Z)(C.qs,e),region:e?.region??(0,Lt.Z)(S.GG,{...S.zH,...o}),requestHandler:jt.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,Lt.Z)({...C.kN,default:async()=>(await n()).retryMode||Ft.L0},e),sha256:e?.sha256??Mt.V.bind(null,"sha256"),streamCollector:e?.streamCollector??jt.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Lt.Z)(S.e$,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Lt.Z)(S.Ko,o),userAgentAppId:e?.userAgentAppId??(0,Lt.Z)(Dt.hV,o)}})(e||{});var n;super(t),this.initConfig=t;const r=(e=>{const{accountIdEndpointMode:t}=e,n=(0,i.t)(t??a);return Object.assign(e,{accountIdEndpointMode:async()=>{const e=await n();if(!d(e))throw new Error(`Invalid value for accountIdEndpointMode: ${e}. Valid values are: "required", "preferred", "disabled".`);return e}})})((n=t,Object.assign(n,{useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}))),o=(0,E.Dc)(r),s=(0,C.$z)(o),c=(0,S.TD)(s),u=(0,w.OV)(c),l=((e,t)=>{const n=Object.assign((0,Jn.Rq)(e),(0,R.xA)(e),(0,h.eS)(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}})(e));return t.forEach((e=>e.configure(n))),Object.assign(e,(0,Jn.$3)(n),(0,R.uv)(n),(0,h.jt)(n),{httpAuthSchemes:(r=n).httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()});var r})(((e,{endpointDiscoveryCommandCtor:t})=>{const{endpointCacheSize:n,endpointDiscoveryEnabled:r,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new y(n??1e3),endpointDiscoveryEnabled:void 0!==r?()=>Promise.resolve(r):o,isClientEndpointDiscoveryEnabled:void 0!==r})})((e=>{const t=(0,T.h)(e);return Object.assign(t,{})})((0,I.Co)(u)),{endpointDiscoveryCommandCtor:St}),e?.extensions||[]);this.config=l,this.middlewareStack.use((0,E.sM)(this.config)),this.middlewareStack.use((0,C.ey)(this.config)),this.middlewareStack.use((0,A.vK)(this.config)),this.middlewareStack.use((0,w.TC)(this.config)),this.middlewareStack.use((0,b.Y7)(this.config)),this.middlewareStack.use((0,v.n4)(this.config)),this.middlewareStack.use((0,x.wB)(this.config,{httpAuthSchemeParametersProvider:$,identityProviderConfigProvider:async e=>new x.h$({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,x.lW)(this.config))}destroy(){super.destroy()}}class Zn extends(R.uB.classBuilder().ep({...k,ResourceArn:{type:"contextParams",name:"TableName"}}).m((function(e,t,n,r){return[(0,P.TM)(n,this.serialize,this.deserialize),(0,I.rD)(n,e.getEndpointParameterInstructions())]})).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(we).de(ve).build()){}const Xn=new Yn({}),Qn=process.env.USER_TABLE,er=async(e,t)=>{const n=e.pathParameters?.id;if(!n)return{statusCode:400,body:"Missing id"};const{Item:r}=await Xn.send(new Zn({TableName:Qn,Key:{id:{S:n}}}));return{statusCode:200,body:JSON.stringify(r??{})}};export{er as handler};